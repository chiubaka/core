{"version":3,"sources":["../src/api/actions/SearchableApi/index.ts"],"names":[],"mappings":";;AAAA,uCAAuC;AAGvC,0CAAuC;AAEvC,yCAAwE;AAExE,MAAa,kBACX,SAAQ,mBAAmC;IAG3C,YAAY,SAAiB,EAAE,OAA+D;QAC5F,OAAO,GAAG,OAAO,IAAI,IAAI,yBAAc,CAAC,SAAS,CAAC,CAAC;QACnD,KAAK,CAAC,SAAS,EAAE,OAAO,CAAC,CAAC;QAE1B,IAAI,CAAC,sBAAsB,GAAG,qBAAqB,SAAS,CAAC,SAAS,CAAC,WAAW,EAAE,CAAC,EAAE,CAAC;IAC1F,CAAC;IAEM,MAAM,CAAC,KAAa;QACzB,OAAO,IAAI,CAAC,UAAU,EAAE,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;IACzC,CAAC;IAEM,sBAAsB,CAAC,OAAuB;QACnD,OAAO;YACL,IAAI,EAAE,IAAI,CAAC,sBAAsB;YACjC,OAAO;SACR,CAAC;IACJ,CAAC;IAES,UAAU;QAClB,OAAO,KAAK,CAAC,UAAU,EAA2D,CAAC;IACrF,CAAC;CACF;AAzBD,gDAyBC","file":"../../../../api/actions/SearchableApi/index.js","sourcesContent":["import * as pluralize from \"pluralize\";\n\nimport { IModel } from \"../../../app\";\nimport { ModelApi } from \"../ModelApi\";\nimport { ApiAction } from \"../types\";\nimport { ISearchableModelApiAdapter, RestApiAdapter } from \"./adapters\";\n\nexport class SearchableModelApi<BackendType extends IModel, FrontendType extends IModel = BackendType>\n  extends ModelApi<BackendType, FrontendType> {\n  public SUCCESSFUL_SEARCH_TYPE: string;\n\n  constructor(modelName: string, adapter?: ISearchableModelApiAdapter<BackendType, FrontendType>) {\n    adapter = adapter || new RestApiAdapter(modelName);\n    super(modelName, adapter);\n\n    this.SUCCESSFUL_SEARCH_TYPE = `SUCCESSFUL_SEARCH_${pluralize(modelName.toUpperCase())}`;\n  }\n\n  public search(query: string): ApiAction<FrontendType[]> {\n    return this.getAdapter().search(query);\n  }\n\n  public successfulSearchAction(payload: FrontendType[]) {\n    return {\n      type: this.SUCCESSFUL_SEARCH_TYPE,\n      payload,\n    };\n  }\n\n  protected getAdapter(): ISearchableModelApiAdapter<BackendType, FrontendType> {\n    return super.getAdapter() as ISearchableModelApiAdapter<BackendType, FrontendType>;\n  }\n}\n"]}