{"version":3,"sources":["../src/api/actions/SearchableModelApi.ts"],"names":[],"mappings":";;AAGA,sCAAsC;AAEtC,uCAAuC;AAIvC,yCAAsC;AAEtC,MAAa,kBACX,SAAQ,mBAAmC;IAG3C,YAAY,SAAiB;QAC3B,KAAK,CAAC,SAAS,CAAC,CAAC;QAEjB,IAAI,CAAC,sBAAsB,GAAG,qBAAqB,SAAS,CAAC,SAAS,CAAC,WAAW,EAAE,CAAC,EAAE,CAAC;IAC1F,CAAC;IAEM,MAAM,CAAC,KAAa;QACzB,MAAM,OAAO,GAAG;YACd,KAAK;SACN,CAAC;QACF,OAAO,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,iBAAiB,EAAE,EAAE,OAAO,EAAE,KAAK,EAAE,CAAC,QAAQ,EAAE,QAAwB,EAAE,EAAE;YACzG,QAAQ,CAAC,IAAI,CAAC,sBAAsB,CAAC,QAAQ,CAAC,CAAC,CAAC;QAClD,CAAC,EAAE,IAAI,EAAE,IAAI,CAAC,wBAAwB,CAAC,CAAC;IAC1C,CAAC;IAEM,iBAAiB;QACtB,OAAO,GAAG,IAAI,CAAC,QAAQ,SAAS,CAAC;IACnC,CAAC;IAEM,sBAAsB,CAAC,OAAuB;QACnD,OAAO;YACL,IAAI,EAAE,IAAI,CAAC,sBAAsB;YACjC,OAAO;SACR,CAAC;IACJ,CAAC;CACF;AA7BD,gDA6BC","file":"../../../api/actions/SearchableModelApi.js","sourcesContent":["/* tslint:disable:no-unused-variable */\nimport { Dispatch } from \"redux\";\nimport { IAuthState } from \"../../auth/model/AuthenticationState\";\n/* tslint:enable:no-unused-variable */\n\nimport * as pluralize from \"pluralize\";\n\nimport { IModel } from \"../model/\";\nimport { ApiAction } from \"./Api\";\nimport { ModelApi } from \"./ModelApi\";\n\nexport class SearchableModelApi<BackendType extends IModel, FrontendType extends IModel = BackendType>\n  extends ModelApi<BackendType, FrontendType> {\n  public SUCCESSFUL_SEARCH_TYPE: string;\n\n  constructor(modelName: string) {\n    super(modelName);\n\n    this.SUCCESSFUL_SEARCH_TYPE = `SUCCESSFUL_SEARCH_${pluralize(modelName.toUpperCase())}`;\n  }\n\n  public search(query: string): ApiAction<FrontendType[]> {\n    const payload = {\n      query,\n    };\n    return this.actionCreator(this.getSearchEndpoint(), payload, \"GET\", (dispatch, response: FrontendType[]) => {\n      dispatch(this.successfulSearchAction(response));\n    }, null, this.bulkTransformForFrontend);\n  }\n\n  public getSearchEndpoint() {\n    return `${this.endpoint}search/`;\n  }\n\n  public successfulSearchAction(payload: FrontendType[]) {\n    return {\n      type: this.SUCCESSFUL_SEARCH_TYPE,\n      payload,\n    };\n  }\n}\n"]}