{"version":3,"sources":["../src/auth/pages/Auth.tsx"],"names":[],"mappings":";;AAAA,+BAA+B;AAC/B,uDAAsE;AAEtE,6CAAsC;AAEtC,wCAAsD;AAEtD,qDAAuD;AACvD,6CAA+C;AAC/C,sFAAwF;AAMxF,SAAgB,SAAS,CAAC,OAAyB;IACjD,MAAM,GAAG,GAAG,IAAI,iBAAO,CAAC,OAAO,CAAC,CAAC;IAEjC,MAAM,SAAS,GAAG,0BAAc,CAAC,GAAG,CAAC,CAAC;IACtC,MAAM,UAAU,GAAG,4BAAe,CAAC,GAAG,CAAC,CAAC;IACxC,MAAM,oBAAoB,GAAG,gDAAyB,CAAC,GAAG,CAAC,CAAC;IAE5D,MAAM,QAAS,SAAQ,KAAK,CAAC,SAA0B;QACrD,YAAY,KAAsB;YAChC,KAAK,CAAC,KAAK,CAAC,CAAC;YAEb,IAAI,CAAC,0BAA0B,GAAG,IAAI,CAAC,0BAA0B,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YAC7E,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACzD,CAAC;QAEM,MAAM;YACX,MAAM,sBAAsB,GAAG,IAAI,CAAC,KAAK,CAAC,sBAAsB,CAAC;YACjE,OAAO,CACL,6BAAK,EAAE,EAAC,MAAM;gBACZ,oBAAC,yBAAM;oBACL,oBAAC,wBAAK,IACJ,IAAI,EAAE,GAAG,sBAAsB,WAAW,EAC1C,MAAM,EAAE,IAAI,CAAC,0BAA0B,GACvC;oBACF,oBAAC,wBAAK,IACJ,IAAI,EAAC,aAAa,EAClB,MAAM,EAAE,IAAI,CAAC,eAAe,GAC5B;oBACF,oBAAC,wBAAK,IAAC,IAAI,EAAC,cAAc,EAAC,SAAS,EAAE,UAAU,GAAG,CAC5C,CACL,CACP,CAAC;QACJ,CAAC;QAEO,0BAA0B,CAAC,KAA+B;YAChE,OAAO,CACL,oBAAC,oBAAoB,oBAAK,KAAK,EAAG,CACnC,CAAC;QACJ,CAAC;QAEO,eAAe,CAAC,KAA+B;YACrD,OAAO,CACL,oBAAC,SAAS,oBAAK,KAAK,EAAG,CACxB,CAAC;QACJ,CAAC;KACF;IAED,SAAS,eAAe,CAAC,KAAiC;QACxD,OAAO;YACL,sBAAsB,EAAE,KAAK,CAAC,IAAI,CAAC,sBAAsB;SAC1D,CAAC;IACJ,CAAC;IAED,OAAO,qBAAO,CAAC,eAAe,CAAC,CAAC,QAAQ,CAAC,CAAC;AAC5C,CAAC;AAtDD,8BAsDC;AAEY,QAAA,IAAI,GAAG,SAAS,EAAE,CAAC","file":"../../../auth/pages/Auth.js","sourcesContent":["import * as React from \"react\";\nimport { Route, RouteComponentProps, Switch } from \"react-router-dom\";\n\nimport { connect } from \"react-redux\";\nimport { IServiceState } from \"../../app/model/index\";\nimport { AuthApi, IAuthApiAdapter } from \"../actions\";\nimport { IAuthState } from \"../model/AuthenticationState\";\nimport { buildLoginPage } from \"./LoginPage/LoginPage\";\nimport { buildLogoutPage } from \"./LogoutPage\";\nimport { buildOAuth2CompletionPage } from \"./OAuth2CompletionPage/OAuth2CompletionPage\";\n\ninterface IAuthStateProps {\n  oAuth2CallbackBasePath: string;\n}\n\nexport function buildAuth(adapter?: IAuthApiAdapter): React.ComponentClass {\n  const api = new AuthApi(adapter);\n\n  const LoginPage = buildLoginPage(api);\n  const LogoutPage = buildLogoutPage(api);\n  const OAuth2CompletionPage = buildOAuth2CompletionPage(api);\n\n  class AuthImpl extends React.Component<IAuthStateProps> {\n    constructor(props: IAuthStateProps) {\n      super(props);\n\n      this.renderOAuth2CompletionPage = this.renderOAuth2CompletionPage.bind(this);\n      this.renderLoginPage = this.renderLoginPage.bind(this);\n    }\n\n    public render(): JSX.Element {\n      const oAuth2CallbackBasePath = this.props.oAuth2CallbackBasePath;\n      return (\n        <div id=\"auth\">\n          <Switch>\n            <Route\n              path={`${oAuth2CallbackBasePath}:provider`}\n              render={this.renderOAuth2CompletionPage}\n            />\n            <Route\n              path=\"/auth/login\"\n              render={this.renderLoginPage}\n            />\n            <Route path=\"/auth/logout\" component={LogoutPage}/>\n          </Switch>\n        </div>\n      );\n    }\n\n    private renderOAuth2CompletionPage(props: RouteComponentProps<any>): JSX.Element {\n      return (\n        <OAuth2CompletionPage {...props}/>\n      );\n    }\n\n    private renderLoginPage(props: RouteComponentProps<any>): JSX.Element {\n      return (\n        <LoginPage {...props}/>\n      );\n    }\n  }\n\n  function mapStateToProps(state: IAuthState & IServiceState) {\n    return {\n      oAuth2CallbackBasePath: state.auth.oAuth2CallbackBasePath,\n    };\n  }\n\n  return connect(mapStateToProps)(AuthImpl);\n}\n\nexport const Auth = buildAuth();\n"]}